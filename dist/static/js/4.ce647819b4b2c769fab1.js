webpackJsonp([4],{"0sbB":function(t,e,a){(t.exports=a("FZ+f")(!0)).push([t.i,"\n.el-checkbox+.el-checkbox {\n  margin-right: 20px;\n  margin-left: 0px;\n}\n","",{version:3,sources:["G:/6.13/vue/src/views/patrol/myPatrol.vue"],names:[],mappings:";AACA;EACE,mBAAmB;EACnB,iBAAiB;CAClB",file:"myPatrol.vue",sourcesContent:["\n.el-checkbox+.el-checkbox {\n  margin-right: 20px;\n  margin-left: 0px;\n}\n"],sourceRoot:""}])},"5Rj9":function(t,e,a){"use strict";function r(t){if(""==t)return null;var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}Object.defineProperty(e,"__esModule",{value:!0});var l={components:{ElForm:ElForm},data:function(){return{dialogName:"aa",checkList:[""],tableData:[],page:1,total:0,formline:{startDate:"",endDate:"",page:1,total:0},form:{name:"",patDate:"",addnessInfo:""},value:"",revise:!1,add:!1,addWidth:"120px"}},methods:{handleCurrentChange:function(t){this.page=t,this.search()},search:function(){var t={startDate:r(this.formline.startDate),endDate:r(this.formline.endDate),pageIndex:this.page},e=a("1nuA"),l=this;this.$ajax.post("/cms-attendance-web/selectPatrol",e.stringify(t)).then(function(t){var e=t.data.list;l.total=10*t.data.page.record;for(var a=0;a<e.length;a++)e[a].patDate=r(e[a].patDate);l.tableData=t.data.list})},submitForm:function(t){var e={userName:this.form.name,lineDate:r(this.form.lineDate),remark:this.form.remark},l=a("1nuA"),n=this;this.$ajax.post("/cms-attendance-web/addPatrol",l.stringify(e)).then(function(t){n.revise=!1,1===response.data.num?this.$message.success("提交成功！"):this.$message.success("提交失败！")})},cancel:function(t){var e=this;if(0!=confirm("是否确认注销?")){var r={patrolId:t.patrolId},l=this,n=a("1nuA");this.$ajax.post("/cms-attendance-web/deletePatrol",n.stringify(r)).then(function(t){l.revise=!1,1===t.data.num?e.$message.success("删除成功！"):e.$message.success("删除失败！"),l.search()})}}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"25px"}},[a("el-card",{staticStyle:{height:"800px"}},[a("el-breadcrumb",{staticStyle:{height:"40px"},attrs:{"separator-class":"el-icon-arrow-right"}},[t._v(">\n      "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",[t._v("人事管理")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("个人考勤")]),t._v(" "),a("el-breadcrumb-item",[t._v("巡岗日志")])],1),t._v(" "),a("el-form",{attrs:{inline:!0,size:"small",model:t.formline,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"查询日期"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"开始日期"},model:{value:t.formline.startDate,callback:function(e){t.$set(t.formline,"startDate",e)},expression:"formline.startDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"至","label-width":"25px"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"结束日期"},model:{value:t.formline.endDate,callback:function(e){t.$set(t.formline,"endDate",e)},expression:"formline.endDate"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"warning"},on:{click:function(e){t.revise=!0}}},[t._v("新增申请")])],1)],1),t._v(" "),a("div",{staticStyle:{height:"30px"}}),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"patrolId",label:"路线编号",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"patDate",label:"日志时间",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"addnessInfo",label:"日志信息",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.cancel(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{attrs:{title:"添加",visible:t.revise,width:"65%"},on:{"update:visible":function(e){t.revise=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"用户名：","label-width":t.addWidth}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"日志时间：","label-width":t.addWidth}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:""},model:{value:t.form.patDate,callback:function(e){t.$set(t.form,"patDate",e)},expression:"form.patDate"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"日志信息：","label-width":t.addWidth}},[a("el-input",{model:{value:t.form.addnessInfo,callback:function(e){t.$set(t.form,"addnessInfo",e)},expression:"form.addnessInfo"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(e){t.revise=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.addLoading},on:{click:function(e){t.submitForm()}}},[t._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(l,n,!1,function(t){a("5UNE")},null,null);e.default=o.exports},"5UNE":function(t,e,a){var r=a("0sbB");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("4170d1a3",r,!0)}});