webpackJsonp([5],{"6A7c":function(e,t,a){(e.exports=a("FZ+f")(!0)).push([e.i,"\n.el-checkbox+.el-checkbox {\n  margin-right: 20px;\n  margin-left: 0px;\n}\n","",{version:3,sources:["G:/6.13/vue/src/views/attendance/myRetroactive.vue"],names:[],mappings:";AACA;EACE,mBAAmB;EACnB,iBAAiB;CAClB",file:"myRetroactive.vue",sourcesContent:["\n.el-checkbox+.el-checkbox {\n  margin-right: 20px;\n  margin-left: 0px;\n}\n"],sourceRoot:""}])},ZYRg:function(e,t,a){var r=a("6A7c");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("7880629b",r,!0)},qsiy:function(e,t,a){"use strict";function r(e){if(""==e)return null;var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+":"+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}function l(e){if(""==e)return null;var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}Object.defineProperty(t,"__esModule",{value:!0});var n={components:{ElForm:ElForm},data:function(){return{dialogName:"aa",checkList:[""],tableData:[{}],formline:{startDate:"",endDate:"",page:1,total:0,uid:""},form:{name:"",signintime:"",applyforreason:"",operationUserId:""},value:"",revise:!1,add:!1,addWidth:"120px"}},methods:{handleCurrentChange:function(e){this.page=e,this.search()},search:function(){var e=sessionStorage.getItem("user");e&&(e=JSON.parse(e));var t={startDate:l(this.formline.startDate),endDate:l(this.formline.endDate),pageIndex:this.page,uid:e.uid},n=a("1nuA"),i=this;this.$ajax.post("/cms-attendance-web/selectMyRetroactive",n.stringify(t)).then(function(e){var t=e.data.list;i.total=10*e.data.page.record;for(var a=0;a<t.length;a++)t[a].signInTime=r(t[a].signInTime),t[a].operatingTime=r(t[a].operatingTime),1==t[a].checkType?t[a].checkType="已处理":t[a].checkType="未处理";i.tableData=e.data.list})},submitForm:function(e){var t=this,l=sessionStorage.getItem("user");l&&(l=JSON.parse(l));var n={userName:this.form.name,signInTime:r(this.form.signInTime),applyForReason:this.form.applyforreason,operationUserId:l.uid},i=a("1nuA"),o=this;this.$ajax.post("/cms-attendance-web/addRetroactive",i.stringify(n)).then(function(e){o.revise=!1,1===e.data.num?t.$message.success("提交成功！"):t.$message.success("提交失败！")})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"25px"}},[a("el-card",{staticStyle:{height:"800px"}},[a("el-breadcrumb",{staticStyle:{height:"40px"},attrs:{"separator-class":"el-icon-arrow-right"}},[e._v(">\n      "),a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("考勤系统")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/staff"}}},[e._v("个人考勤")]),e._v(" "),a("el-breadcrumb-item",[e._v("个人补签")])],1),e._v(" "),a("el-form",{attrs:{inline:!0,size:"small",model:e.formline,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"查询日期"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"开始日期"},model:{value:e.formline.startDate,callback:function(t){e.$set(e.formline,"startDate",t)},expression:"formline.startDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"至","label-width":"25px"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"结束日期"},model:{value:e.formline.endDate,callback:function(t){e.$set(e.formline,"endDate",t)},expression:"formline.endDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.search()}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.revise=!0}}},[e._v("新增")])],1)],1),e._v(" "),a("div",{staticStyle:{height:"30px"}}),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userRetroactiveId",label:"补签编号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"signInTime",label:"签到时间",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operatingTime",label:"操作时间",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"checkmanId",label:"审批人",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"checkStateId",label:"审批状态",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"applyForReason",label:"理由",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"补签申请",visible:e.revise,width:"65%"},on:{"update:visible":function(t){e.revise=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"申请人：","label-width":e.addWidth}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"时间：","label-width":e.addWidth}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"签到时间"},model:{value:e.form.signInTime,callback:function(t){e.$set(e.form,"signInTime",t)},expression:"form.signInTime"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"理由：","label-width":e.addWidth}},[a("el-input",{model:{value:e.form.applyforreason,callback:function(t){e.$set(e.form,"applyforreason",t)},expression:"form.applyforreason"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.revise=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm()}}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(n,i,!1,function(e){a("ZYRg")},null,null);t.default=o.exports}});