webpackJsonp([6],{AqgD:function(e,t,a){var l=a("Ulyn");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("0bc93f28",l,!0)},IvXs:function(e,t,a){"use strict";function l(e){if(""==e)return null;var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}Object.defineProperty(t,"__esModule",{value:!0});var n={components:{ElForm:ElForm},data:function(){return{dialogName:"aa",checkList:[""],tableData:[],page:1,total:0,formline:{startDate:"",endDate:"",page:1,total:0},form:{name:"",startPlace:"",endPlace:"",lineDate:"",way:""},value:"",revise:!1,add:!1,addWidth:"120px",value1:"",value2:""}},methods:{handleCurrentChange:function(e){this.page=e,this.search()},search:function(){var e={startDate:l(this.formline.startDate),endDate:l(this.formline.endDate),pageIndex:this.page},t=a("1nuA"),n=this;this.$ajax.post("/cms-attendance-web/selectLine",t.stringify(e)).then(function(e){var t=e.data.list;n.total=10*e.data.page.record;for(var a=0;a<t.length;a++)t[a].lineDate=l(t[a].lineDate);n.tableData=e.data.list})},submitForm:function(e){var t=this,n={userName:this.form.name,startPlace:this.form.startPlace,endPlace:this.form.endPlace,lineDate:l(this.form.lineDate),way:this.form.way},r=a("1nuA"),i=this;this.$ajax.post("/cms-attendance-web/addLine",r.stringify(n)).then(function(e){i.revise=!1,1===e.data.num?t.$message.success("提交成功！"):t.$message.success("提交失败！")})},deal:function(e){if(0!=confirm("是否进行处理?")){var t={lineId:e.lineId},l=this,n=a("1nuA");this.$ajax.post("/cms-attendance-web/dealLine",n.stringify(t)).then(function(e){alert(e.data),l.search()})}},cancel:function(e){var t=this;if(0!=confirm("是否确认注销?")){var l={lineId:e.lineId},n=this,r=a("1nuA");this.$ajax.post("/cms-attendance-web/deleteLine",r.stringify(l)).then(function(e){self.revise=!1,1===e.data.num?t.$message.success("提交成功！"):t.$message.success("提交失败！"),n.search()})}}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"25px"}},[a("el-card",{staticStyle:{height:"800px"}},[a("el-breadcrumb",{staticStyle:{height:"40px"},attrs:{"separator-class":"el-icon-arrow-right"}},[e._v(">\n      "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("人事管理")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("个人考勤")]),e._v(" "),a("el-breadcrumb-item",[e._v("巡岗路线")])],1),e._v(" "),a("el-form",{attrs:{inline:!0,size:"small",model:e.formline,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"查询日期"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"开始日期"},model:{value:e.formline.startDate,callback:function(t){e.$set(e.formline,"startDate",t)},expression:"formline.startDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"至","label-width":"25px"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"结束日期"},model:{value:e.formline.endDate,callback:function(t){e.$set(e.formline,"endDate",t)},expression:"formline.endDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.search()}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.revise=!0}}},[e._v("新增申请")])],1)],1),e._v(" "),a("div",{staticStyle:{height:"30px"}}),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lineId",label:"路线编号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"startPlace",label:"开始地点",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endPlace",label:"结束地点",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lineDate",label:"路线时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"way",label:"路线",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.cancel(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"添加",visible:e.revise,width:"65%"},on:{"update:visible":function(t){e.revise=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"用户名：","label-width":e.addWidth}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"开始地点：","label-width":e.addWidth}},[a("el-input",{model:{value:e.form.startPlace,callback:function(t){e.$set(e.form,"startPlace",t)},expression:"form.startPlace"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"结束地点：","label-width":e.addWidth}},[a("el-input",{model:{value:e.form.endPlace,callback:function(t){e.$set(e.form,"endPlace",t)},expression:"form.endPlace"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"路线时间：","label-width":e.addWidth}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:""},model:{value:e.form.lineDate,callback:function(t){e.$set(e.form,"lineDate",t)},expression:"form.lineDate"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"路线：","label-width":e.addWidth}},[a("el-input",{model:{value:e.form.way,callback:function(t){e.$set(e.form,"way",t)},expression:"form.way"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.revise=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},on:{click:function(t){e.submitForm()}}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(n,r,!1,function(e){a("AqgD")},null,null);t.default=i.exports},Ulyn:function(e,t,a){(e.exports=a("FZ+f")(!0)).push([e.i,"\n.el-checkbox+.el-checkbox {\n  margin-right: 20px;\n  margin-left: 0px;\n}\n","",{version:3,sources:["G:/6.13/vue/src/views/patrol/myLine.vue"],names:[],mappings:";AACA;EACE,mBAAmB;EACnB,iBAAiB;CAClB",file:"myLine.vue",sourcesContent:["\n.el-checkbox+.el-checkbox {\n  margin-right: 20px;\n  margin-left: 0px;\n}\n"],sourceRoot:""}])}});